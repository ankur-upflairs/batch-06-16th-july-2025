<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
        .box{
            display: flex;
            width: 80%;
            margin: 10px auto;
            gap: 10px;
            flex-wrap: wrap;
        }
        .card{
            width: calc(25% - 10px);
        }
    </style>
  </head>
  <body>
    <div class="box"></div>
    <script>
      //asynchronous tasks/non-blocking /background task
      //promise => is a way to deal with async tasks
      // states => pending / fullfilled (then) / rejected (catch)
      // let res = fetch('https://dummyjson.com/products')
      // // console.log(res)
      // let resData = res.then(response =>{console.log(response)
      //     return response.json()
      // })
      // res.catch(err => console.log(err))
      // // console.log(resData)
      // resData.then(data=>console.log(data))
      // resData.catch(err=>console.log(err))
      //simplified =>
      let box = document.querySelector(".box");
      fetch("https://dummyjson.com/products")
        .then((res) => res.json())
        .then((data) => {
          let productHtml = "";
          console.log(data);
          data.products.forEach((product) => {
            productHtml += `
                 <div class="card">
                    <div class="img">
                      <img src="${product.thumbnail}" alt="">
                     </div>
                   <div class="title">${product.title}</div>
                   <div class="desc">${product.description}</div>
                </div>`
          });
          box.innerHTML = productHtml
        })
        .catch((err) => console.log(err));
    </script>
  </body>
</html>
